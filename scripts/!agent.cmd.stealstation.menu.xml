<?xml version="1.0" standalone="yes" ?>
<?xml-stylesheet href="x2script.xsl" type="text/xsl" ?>
<script>
<name>!agent.cmd.stealstation.menu</name>
<version>4</version>
<engineversion>72</engineversion>
<description>Agent Command: (MENU) steal station blueprints</description>
<arguments>
<argument index="1" name="a.diplomat" type="Var/Agent" desc="Diplomat" />
<argument index="2" name="a.state" type="Var/String" desc="State" />
<argument index="3" name="a.value" type="Value" desc="Last Value" />
</arguments>
<sourceplaintext>
<![CDATA[
  $INFLUENCE.AMOUNT = 600
  $STATE.BLUEPRINIT = 'blueprint'
  $STATE.STATION = 'station'
  
  if $a.state == [MEvent.IsDisabled]
@   do if [THIS] -> call script !lib.agent.hasinfluence :  Influence=$INFLUENCE.AMOUNT
      return [FALSE]
    return [TRUE]
    
  else if $a.state == [MEvent.IsSpy]
    return [TRUE]
    
  else if $a.state == [MEvent.Influence]
    $ret = create influence return array: at least=$INFLUENCE.AMOUNT
    return $ret
    
  * State: 'start' will be received when the menu is first opened
  else if $a.state == [MEvent.Start]
  * return a station user input
    $classes = create new array, arguments=Shipyard, null, null, null, null
    $text = read text: page=35 id=1104259
@   $aRaces = [THIS] -> call script !lib.agent.races :  Influence needed=$INFLUENCE.AMOUNT
    $input = create input: id=$STATE.STATION, user input=Var/Station, refobj=[PLAYERSHIP], description=$text, without sector=[FALSE], filterclass=$classes, racemask=$aRaces, flags=null, default=null
    return $input
    
  else if $a.state == $STATE.STATION
    $race = $a.value -> get owner race
    $influence = get influence of Player -> $race
    $cost = get influence bonus decrease: race=$race amount=$INFLUENCE.AMOUNT
    do if $cost > $INFLUENCE.AMOUNT
      $cost = $INFLUENCE.AMOUNT
    if $influence < $cost
      $speak = create new array, arguments=13, 135, 13, 57, null
      START speak array: $speak prio=10
      $text = sprintf: pageid=35 textid=1104236, $cost, null, null, null, null
      display game tip: text=$text delay=0
  * return [FALSE]/null to cancel command
      return [FALSE]
    end
    
    $products = $a.value -> get products
    $selected = $products[0]
    $a.diplomat ->set local variable: name='menu.selected' value=$selected
    $a.diplomat ->set local variable: name='target.station' value=$a.value
    gosub sub.CrateMenu
    
    $text = sprintf: pageid=35 textid=1104270, null, null, null, null, null
    $ret = create input: id=$STATE.BLUEPRINIT menu=$menu title=$title description=$text callback=[Callback.Selection]
    return $ret
    
  else if $a.state == $STATE.BLUEPRINIT
    $a.diplomat ->set local variable: name='target.blueprint' value=$a.value
    return [TRUE]
    
  * Once all inputs have finished, receive the 'arguments' state
  else if $a.state == [MEvent.Arguments]
    $station = $a.diplomat -> get local variable: name='target.station'
    $station.ware = $a.diplomat -> get local variable: name='target.blueprint'
    gosub sub.CheckInfluence
    $a.diplomat ->set local variable: name='target.station' value=null
    $a.diplomat ->set local variable: name='target.blueprint' value=null
    $a.diplomat ->set local variable: name='menu.selected' value=null
  * return the arguments that will be passed to the command script
  * can either be a single argument, or an array of multiple arguments
    $ret = create new array, arguments=$station, $station.ware, $cost, null, null
    return $ret
    
  else if $a.state == [MEvent.Selection]
    $selected = $a.value[2]
    $a.diplomat ->set local variable: name='menu.selected' value=$selected
    gosub sub.CrateMenu
    return $menu
    
  * receive cancelled state if any input was cancelled
  else if $a.state == [MEvent.Cancelled]
    if $a.value == $STATE.BLUEPRINIT
@     $ret = [THIS] -> call script !agent.cmd.stealstation.menu :  Diplomat=$a.diplomat  State='start'  Last Value=null
      return $ret
    end
  else if $a.state == [MEvent.Finished]
    $a.diplomat ->set local variable: name='target.station' value=null
    $a.diplomat ->set local variable: name='target.blueprint' value=null
    $a.diplomat ->set local variable: name='menu.selected' value=null
  end
  
  return null
  
  sub.CrateMenu:
  $station = $a.diplomat -> get local variable: name='target.station'
  $selected = $a.diplomat -> get local variable: name='menu.selected'
  $race = $station -> get owner race
  
  $hq = $a.diplomat -> get homebase
  skip if $hq -> is of class Headquarters
    $hq = get player HQ
  
  $products = $station -> get products
  $i = size of array $products
  while $i
    dec $i = 
    $p = $products[$i]
    $maintype = get maintype of ware $p
    if $maintype == [SSTYPE_W_TECH]
      if is deployable ware: ware=$p
        skip if $hq ->player HQ has blueprints for: type=$p
          continue
      end
    end
    
    if $maintype != [SSTYPE_FACTORY] AND $maintype != [SSTYPE_DOCK]
      remove element from array $products at index $i
    else if $hq ->player HQ has blueprints for: type=$p
      remove element from array $products at index $i
    end
  end
  
  $products = sort array $products
  $products = reverse array $products
  
  $title = sprintf: pageid=35 textid=1102457, null, null, null, null, null
  $menu = create custom menu array
  add custom menu heading to array $menu: title=$title
  set menu option: $menu, icon=135
  
  $text = read text: page=35 id=812
  add info line heading to menu: $menu, heading=$text
  $name = [PLAYERSHIP] -> get pilot name
  $text = create text for custom menu, left=$name, right=$selected
  add custom menu info line to array $menu: text=$text
  
  skip if $selected
    $selected = $products[0]
  
  $col.width = get menu width: widthtype=[MenuWidth.Standard]
  $col.width = $col.width / 2
  
  $station.ware = $selected
  gosub sub.CheckInfluence
  $text = sprintf: pageid=35 textid=1104273, $influence, null, null, null, null
  $text = create custom menu column string, position=0 length=$col.width right=[FALSE] colour=null text=$text
  $text2 = sprintf: pageid=35 textid=1104273, $cost, null, null, null, null
  if $enough.noto
    $text2 = create custom menu column string, position=$col.width length=null right=[TRUE] colour=[MenuColour.Normal] text=$text2
  else
    $text2 = create custom menu column string, position=$col.width length=null right=[TRUE] colour=[MenuColour.Red] text=$text2
  end
  $text = create new array, arguments=$text, $text2, null, null, null
  add custom menu info line to array $menu: text=$text
  
  $i = size of array $products
  while $i
    dec $i = 
    $p = $products[$i]
    $icon.text = create custom menu string type icon: type=$p
    $noto = get notority require to buy ware: $p
    $race.noto = get notoriety from race $race to race Player
    $station.ware = $p
    gosub sub.CheckInfluence
    
    if not $enough.noto
      set menu line option: $menu, selection colour=[MenuColour.Red]
      $ret = create menu return value: disabled, id=$p
    else
      $ret = $p
    end
    $text = create custom menu column string, position=0 length=12 right=[FALSE] colour=null text=$icon.text
    $text2 = create custom menu column string, position=12 length=null right=[FALSE] colour=null text=$p
    $text = create new array, arguments=$text, $text2, null, null, null
    add custom menu item to array $menu: text=$text returnvalue=$ret
  end
  endsub
  
  sub.CheckInfluence:
  $station = $a.diplomat -> get local variable: name='target.station'
  $race = $station -> get owner race
  $influence = get influence of Player -> $race
  $noto = get notority require to buy ware: $station.ware
  $noto.title = get notoriety level: amount=$noto
  $amount = $INFLUENCE.AMOUNT + ( ( $noto.title + 5 ) * 20 )
  $cost = get influence bonus decrease: race=$race amount=$amount
  do if $cost > $amount
    $cost = $amount
  $enough.noto = [TRUE]
  skip if $influence >= $cost
    $enough.noto = [FALSE]
  endsub
  return null
]]>
</sourceplaintext>
<sourcetext>
<line indent=""><var>$INFLUENCE.AMOUNT&#160;=&#160;</var><var>600</var></line>
<line indent=""><var>$STATE.BLUEPRINIT&#160;=&#160;</var><var>'blueprint'</var></line>
<line indent=""><var>$STATE.STATION&#160;=&#160;</var><var>'station'</var></line>
<line indent=""></line>
<line indent=""><var>if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.IsDisabled]</var></line>
<line interruptable="@" indent="&#160;"><var>do&#160;if&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.agent.hasinfluence</call><text>&#160;:&#160;</text><text>&#160;Influence=</text><var>$INFLUENCE.AMOUNT</var></line>
<line indent="&#160;&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line indent="&#160;"><text>return&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.IsSpy]</var></line>
<line indent="&#160;"><text>return&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Influence]</var></line>
<line indent="&#160;"><var>$ret&#160;=&#160;</var><text>create&#160;influence&#160;return&#160;array:&#160;at&#160;least=</text><var>$INFLUENCE.AMOUNT</var></line>
<line indent="&#160;"><text>return&#160;</text><var>$ret</var></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>State:&#160;'start'&#160;will&#160;be&#160;received&#160;when&#160;the&#160;menu&#160;is&#160;first&#160;opened</var></comment></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Start]</var></line>
<line indent=""><comment><text>*&#160;</text><var>return&#160;a&#160;station&#160;user&#160;input</var></comment></line>
<line indent="&#160;"><var>$classes&#160;=&#160;</var><text>create&#160;new&#160;array,&#160;arguments=</text><var>Shipyard</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>35</var><text>&#160;id=</text><var>1104259</var></line>
<line interruptable="@" indent="&#160;"><var>$aRaces&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!lib.agent.races</call><text>&#160;:&#160;</text><text>&#160;Influence&#160;needed=</text><var>$INFLUENCE.AMOUNT</var></line>
<line indent="&#160;"><var>$input&#160;=&#160;</var><text>create&#160;input:&#160;id=</text><var>$STATE.STATION</var><text>,&#160;user&#160;input=</text><var>Var/Station</var><text>,&#160;refobj=</text><var>[PLAYERSHIP]</var><text>,&#160;description=</text><var>$text</var><text>,&#160;without&#160;sector=</text><var>[FALSE]</var><text>,&#160;filterclass=</text><var>$classes</var><text>,&#160;racemask=</text><var>$aRaces</var><text>,&#160;flags=</text><var>null</var><text>,&#160;default=</text><var>null</var></line>
<line indent="&#160;"><text>return&#160;</text><var>$input</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>$STATE.STATION</var></line>
<line indent="&#160;"><var>$race&#160;=&#160;</var><var>$a.value&#160;-&gt;</var><text>&#160;get&#160;owner&#160;race</text></line>
<line indent="&#160;"><var>$influence&#160;=&#160;</var><text>get&#160;influence&#160;of&#160;</text><var>Player</var><text>&#160;-&gt;&#160;</text><var>$race</var></line>
<line indent="&#160;"><var>$cost&#160;=&#160;</var><text>get&#160;influence&#160;bonus&#160;decrease:&#160;race=</text><var>$race</var><text>&#160;amount=</text><var>$INFLUENCE.AMOUNT</var></line>
<line indent="&#160;"><var>do&#160;if&#160;</var><var>$cost</var><text>&#160;</text><var>&gt;</var><text>&#160;</text><var>$INFLUENCE.AMOUNT</var></line>
<line indent="&#160;&#160;"><var>$cost&#160;=&#160;</var><var>$INFLUENCE.AMOUNT</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$influence</var><text>&#160;</text><var>&lt;</var><text>&#160;</text><var>$cost</var></line>
<line indent="&#160;&#160;"><var>$speak&#160;=&#160;</var><text>create&#160;new&#160;array,&#160;arguments=</text><var>13</var><text>,&#160;</text><var>135</var><text>,&#160;</text><var>13</var><text>,&#160;</text><var>57</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;"><var>START&#160;</var><text>speak&#160;array:&#160;</text><var>$speak</var><text>&#160;prio=</text><var>10</var></line>
<line indent="&#160;&#160;"><var>$text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>35</var><text>&#160;textid=</text><var>1104236</var><text>,&#160;</text><var>$cost</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;&#160;"><text>display&#160;game&#160;tip:&#160;text=</text><var>$text</var><text>&#160;delay=</text><var>0</var></line>
<line indent=""><comment><text>*&#160;</text><var>return&#160;[FALSE]/null&#160;to&#160;cancel&#160;command</var></comment></line>
<line indent="&#160;&#160;"><text>return&#160;</text><var>[FALSE]</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>$products&#160;=&#160;</var><var>$a.value&#160;-&gt;</var><text>&#160;get&#160;products</text></line>
<line indent="&#160;"><var>$selected&#160;=&#160;</var><var>$products</var><text>[</text><var>0</var><text>]</text></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'menu.selected'</var><text>&#160;value=</text><var>$selected</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'target.station'</var><text>&#160;value=</text><var>$a.value</var></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.CrateMenu</var></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>35</var><text>&#160;textid=</text><var>1104270</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;"><var>$ret&#160;=&#160;</var><text>create&#160;input:&#160;id=</text><var>$STATE.BLUEPRINIT</var><text>&#160;menu=</text><var>$menu</var><text>&#160;title=</text><var>$title</var><text>&#160;description=</text><var>$text</var><text>&#160;callback=</text><var>[Callback.Selection]</var></line>
<line indent="&#160;"><text>return&#160;</text><var>$ret</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>$STATE.BLUEPRINIT</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'target.blueprint'</var><text>&#160;value=</text><var>$a.value</var></line>
<line indent="&#160;"><text>return&#160;</text><var>[TRUE]</var></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>Once&#160;all&#160;inputs&#160;have&#160;finished,&#160;receive&#160;the&#160;'arguments'&#160;state</var></comment></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Arguments]</var></line>
<line indent="&#160;"><var>$station&#160;=&#160;</var><var>$a.diplomat&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'target.station'</var></line>
<line indent="&#160;"><var>$station.ware&#160;=&#160;</var><var>$a.diplomat&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'target.blueprint'</var></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.CheckInfluence</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'target.station'</var><text>&#160;value=</text><var>null</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'target.blueprint'</var><text>&#160;value=</text><var>null</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'menu.selected'</var><text>&#160;value=</text><var>null</var></line>
<line indent=""><comment><text>*&#160;</text><var>return&#160;the&#160;arguments&#160;that&#160;will&#160;be&#160;passed&#160;to&#160;the&#160;command&#160;script</var></comment></line>
<line indent=""><comment><text>*&#160;</text><var>can&#160;either&#160;be&#160;a&#160;single&#160;argument,&#160;or&#160;an&#160;array&#160;of&#160;multiple&#160;arguments</var></comment></line>
<line indent="&#160;"><var>$ret&#160;=&#160;</var><text>create&#160;new&#160;array,&#160;arguments=</text><var>$station</var><text>,&#160;</text><var>$station.ware</var><text>,&#160;</text><var>$cost</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;"><text>return&#160;</text><var>$ret</var></line>
<line indent="&#160;"></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Selection]</var></line>
<line indent="&#160;"><var>$selected&#160;=&#160;</var><var>$a.value</var><text>[</text><var>2</var><text>]</text></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'menu.selected'</var><text>&#160;value=</text><var>$selected</var></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.CrateMenu</var></line>
<line indent="&#160;"><text>return&#160;</text><var>$menu</var></line>
<line indent="&#160;"></line>
<line indent=""><comment><text>*&#160;</text><var>receive&#160;cancelled&#160;state&#160;if&#160;any&#160;input&#160;was&#160;cancelled</var></comment></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Cancelled]</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$a.value</var><text>&#160;</text><var>==</var><text>&#160;</text><var>$STATE.BLUEPRINIT</var></line>
<line interruptable="@" indent="&#160;&#160;"><var>$ret&#160;=&#160;</var><var>[THIS]&#160;-&gt;</var><text>&#160;call&#160;script&#160;</text><call>!agent.cmd.stealstation.menu</call><text>&#160;:&#160;</text><text>&#160;Diplomat=</text><var>$a.diplomat</var><text>&#160;</text><text>&#160;State=</text><var>'start'</var><text>&#160;</text><text>&#160;Last&#160;Value=</text><var>null</var></line>
<line indent="&#160;&#160;"><text>return&#160;</text><var>$ret</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><var>else&#160;if&#160;</var><var>$a.state</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[MEvent.Finished]</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'target.station'</var><text>&#160;value=</text><var>null</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'target.blueprint'</var><text>&#160;value=</text><var>null</var></line>
<line indent="&#160;"><var>$a.diplomat&#160;-&gt;</var><text>set&#160;local&#160;variable:&#160;name=</text><var>'menu.selected'</var><text>&#160;value=</text><var>null</var></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
<line indent=""></line>
<line indent=""><var>sub.CrateMenu</var><text>:</text></line>
<line indent=""><var>$station&#160;=&#160;</var><var>$a.diplomat&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'target.station'</var></line>
<line indent=""><var>$selected&#160;=&#160;</var><var>$a.diplomat&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'menu.selected'</var></line>
<line indent=""><var>$race&#160;=&#160;</var><var>$station&#160;-&gt;</var><text>&#160;get&#160;owner&#160;race</text></line>
<line indent=""></line>
<line indent=""><var>$hq&#160;=&#160;</var><var>$a.diplomat&#160;-&gt;</var><text>&#160;get&#160;homebase</text></line>
<line indent=""><var>skip&#160;if&#160;</var><var>$hq&#160;-&gt;</var><text>&#160;is&#160;of&#160;class&#160;</text><var>Headquarters</var></line>
<line indent="&#160;"><var>$hq&#160;=&#160;</var><text>get&#160;player&#160;HQ</text></line>
<line indent=""></line>
<line indent=""><var>$products&#160;=&#160;</var><var>$station&#160;-&gt;</var><text>&#160;get&#160;products</text></line>
<line indent=""><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$products</var></line>
<line indent=""><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;"><var>$p&#160;=&#160;</var><var>$products</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;"><var>$maintype&#160;=&#160;</var><text>get&#160;maintype&#160;of&#160;ware&#160;</text><var>$p</var></line>
<line indent="&#160;"><var>if&#160;</var><var>$maintype</var><text>&#160;</text><var>==</var><text>&#160;</text><var>[SSTYPE_W_TECH]</var></line>
<line indent="&#160;&#160;"><var>if&#160;</var><text>is&#160;deployable&#160;ware:&#160;ware=</text><var>$p</var></line>
<line indent="&#160;&#160;&#160;"><var>skip&#160;if&#160;</var><var>$hq&#160;-&gt;</var><text>player&#160;HQ&#160;has&#160;blueprints&#160;for:&#160;type=</text><var>$p</var></line>
<line indent="&#160;&#160;&#160;&#160;"><text>continue</text></line>
<line indent="&#160;&#160;"><text>end</text></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>if&#160;</var><var>$maintype</var><text>&#160;</text><var>!=</var><text>&#160;</text><var>[SSTYPE_FACTORY]</var><text>&#160;</text><var>AND</var><text>&#160;</text><var>$maintype</var><text>&#160;</text><var>!=</var><text>&#160;</text><var>[SSTYPE_DOCK]</var></line>
<line indent="&#160;&#160;"><text>remove&#160;element&#160;from&#160;array&#160;</text><var>$products</var><text>&#160;at&#160;index&#160;</text><var>$i</var></line>
<line indent="&#160;"><var>else&#160;if&#160;</var><var>$hq&#160;-&gt;</var><text>player&#160;HQ&#160;has&#160;blueprints&#160;for:&#160;type=</text><var>$p</var></line>
<line indent="&#160;&#160;"><text>remove&#160;element&#160;from&#160;array&#160;</text><var>$products</var><text>&#160;at&#160;index&#160;</text><var>$i</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent=""><text>end</text></line>
<line indent=""></line>
<line indent=""><var>$products&#160;=&#160;</var><text>sort&#160;array&#160;</text><var>$products</var></line>
<line indent=""><var>$products&#160;=&#160;</var><text>reverse&#160;array&#160;</text><var>$products</var></line>
<line indent=""></line>
<line indent=""><var>$title&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>35</var><text>&#160;textid=</text><var>1102457</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent=""><var>$menu&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;array</text></line>
<line indent=""><text>add&#160;custom&#160;menu&#160;heading&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;title=</text><var>$title</var></line>
<line indent=""><text>set&#160;menu&#160;option:&#160;</text><var>$menu</var><text>,&#160;icon=</text><var>135</var></line>
<line indent=""></line>
<line indent=""><var>$text&#160;=&#160;</var><text>read&#160;text:&#160;page=</text><var>35</var><text>&#160;id=</text><var>812</var></line>
<line indent=""><text>add&#160;info&#160;line&#160;heading&#160;to&#160;menu:&#160;</text><var>$menu</var><text>,&#160;heading=</text><var>$text</var></line>
<line indent=""><var>$name&#160;=&#160;</var><var>[PLAYERSHIP]&#160;-&gt;</var><text>&#160;get&#160;pilot&#160;name</text></line>
<line indent=""><var>$text&#160;=&#160;</var><text>create&#160;text&#160;for&#160;custom&#160;menu,&#160;left=</text><var>$name</var><text>,&#160;right=</text><var>$selected</var></line>
<line indent=""><text>add&#160;custom&#160;menu&#160;info&#160;line&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$text</var></line>
<line indent=""></line>
<line indent=""><var>skip&#160;if&#160;</var><var>$selected</var></line>
<line indent="&#160;"><var>$selected&#160;=&#160;</var><var>$products</var><text>[</text><var>0</var><text>]</text></line>
<line indent=""></line>
<line indent=""><var>$col.width&#160;=&#160;</var><text>get&#160;menu&#160;width:&#160;widthtype=</text><var>[MenuWidth.Standard]</var></line>
<line indent=""><var>$col.width&#160;=&#160;</var><var>$col.width</var><text>&#160;</text><var>/</var><text>&#160;</text><var>2</var></line>
<line indent=""></line>
<line indent=""><var>$station.ware&#160;=&#160;</var><var>$selected</var></line>
<line indent=""><text>gosub&#160;</text><var>sub.CheckInfluence</var></line>
<line indent=""><var>$text&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>35</var><text>&#160;textid=</text><var>1104273</var><text>,&#160;</text><var>$influence</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent=""><var>$text&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;column&#160;string,&#160;position=</text><var>0</var><text>&#160;length=</text><var>$col.width</var><text>&#160;right=</text><var>[FALSE]</var><text>&#160;colour=</text><var>null</var><text>&#160;text=</text><var>$text</var></line>
<line indent=""><var>$text2&#160;=&#160;</var><text>sprintf:&#160;pageid=</text><var>35</var><text>&#160;textid=</text><var>1104273</var><text>,&#160;</text><var>$cost</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent=""><var>if&#160;</var><var>$enough.noto</var></line>
<line indent="&#160;"><var>$text2&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;column&#160;string,&#160;position=</text><var>$col.width</var><text>&#160;length=</text><var>null</var><text>&#160;right=</text><var>[TRUE]</var><text>&#160;colour=</text><var>[MenuColour.Normal]</var><text>&#160;text=</text><var>$text2</var></line>
<line indent=""><text>else</text></line>
<line indent="&#160;"><var>$text2&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;column&#160;string,&#160;position=</text><var>$col.width</var><text>&#160;length=</text><var>null</var><text>&#160;right=</text><var>[TRUE]</var><text>&#160;colour=</text><var>[MenuColour.Red]</var><text>&#160;text=</text><var>$text2</var></line>
<line indent=""><text>end</text></line>
<line indent=""><var>$text&#160;=&#160;</var><text>create&#160;new&#160;array,&#160;arguments=</text><var>$text</var><text>,&#160;</text><var>$text2</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent=""><text>add&#160;custom&#160;menu&#160;info&#160;line&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$text</var></line>
<line indent=""></line>
<line indent=""><var>$i&#160;=&#160;</var><text>size&#160;of&#160;array&#160;</text><var>$products</var></line>
<line indent=""><var>while&#160;</var><var>$i</var></line>
<line indent="&#160;"><text>dec&#160;</text><var>$i&#160;=&#160;</var></line>
<line indent="&#160;"><var>$p&#160;=&#160;</var><var>$products</var><text>[</text><var>$i</var><text>]</text></line>
<line indent="&#160;"><var>$icon.text&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;string&#160;type&#160;icon:&#160;type=</text><var>$p</var></line>
<line indent="&#160;"><var>$noto&#160;=&#160;</var><text>get&#160;notority&#160;require&#160;to&#160;buy&#160;ware:&#160;</text><var>$p</var></line>
<line indent="&#160;"><var>$race.noto&#160;=&#160;</var><text>get&#160;notoriety&#160;from&#160;race&#160;</text><var>$race</var><text>&#160;to&#160;race&#160;</text><var>Player</var></line>
<line indent="&#160;"><var>$station.ware&#160;=&#160;</var><var>$p</var></line>
<line indent="&#160;"><text>gosub&#160;</text><var>sub.CheckInfluence</var></line>
<line indent="&#160;"></line>
<line indent="&#160;"><var>if&#160;not&#160;</var><var>$enough.noto</var></line>
<line indent="&#160;&#160;"><text>set&#160;menu&#160;line&#160;option:&#160;</text><var>$menu</var><text>,&#160;selection&#160;colour=</text><var>[MenuColour.Red]</var></line>
<line indent="&#160;&#160;"><var>$ret&#160;=&#160;</var><text>create&#160;menu&#160;return&#160;value:&#160;disabled,&#160;id=</text><var>$p</var></line>
<line indent="&#160;"><text>else</text></line>
<line indent="&#160;&#160;"><var>$ret&#160;=&#160;</var><var>$p</var></line>
<line indent="&#160;"><text>end</text></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;column&#160;string,&#160;position=</text><var>0</var><text>&#160;length=</text><var>12</var><text>&#160;right=</text><var>[FALSE]</var><text>&#160;colour=</text><var>null</var><text>&#160;text=</text><var>$icon.text</var></line>
<line indent="&#160;"><var>$text2&#160;=&#160;</var><text>create&#160;custom&#160;menu&#160;column&#160;string,&#160;position=</text><var>12</var><text>&#160;length=</text><var>null</var><text>&#160;right=</text><var>[FALSE]</var><text>&#160;colour=</text><var>null</var><text>&#160;text=</text><var>$p</var></line>
<line indent="&#160;"><var>$text&#160;=&#160;</var><text>create&#160;new&#160;array,&#160;arguments=</text><var>$text</var><text>,&#160;</text><var>$text2</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var><text>,&#160;</text><var>null</var></line>
<line indent="&#160;"><text>add&#160;custom&#160;menu&#160;item&#160;to&#160;array&#160;</text><var>$menu</var><text>:&#160;text=</text><var>$text</var><text>&#160;returnvalue=</text><var>$ret</var></line>
<line indent=""><text>end</text></line>
<line indent=""><text>endsub</text></line>
<line indent=""></line>
<line indent=""><var>sub.CheckInfluence</var><text>:</text></line>
<line indent=""><var>$station&#160;=&#160;</var><var>$a.diplomat&#160;-&gt;</var><text>&#160;get&#160;local&#160;variable:&#160;name=</text><var>'target.station'</var></line>
<line indent=""><var>$race&#160;=&#160;</var><var>$station&#160;-&gt;</var><text>&#160;get&#160;owner&#160;race</text></line>
<line indent=""><var>$influence&#160;=&#160;</var><text>get&#160;influence&#160;of&#160;</text><var>Player</var><text>&#160;-&gt;&#160;</text><var>$race</var></line>
<line indent=""><var>$noto&#160;=&#160;</var><text>get&#160;notority&#160;require&#160;to&#160;buy&#160;ware:&#160;</text><var>$station.ware</var></line>
<line indent=""><var>$noto.title&#160;=&#160;</var><text>get&#160;notoriety&#160;level:&#160;amount=</text><var>$noto</var></line>
<line indent=""><var>$amount&#160;=&#160;</var><var>$INFLUENCE.AMOUNT</var><text>&#160;</text><var>+</var><text>&#160;</text><var>(</var><text>&#160;</text><var>(</var><text>&#160;</text><var>$noto.title</var><text>&#160;</text><var>+</var><text>&#160;</text><var>5</var><text>&#160;</text><var>)</var><text>&#160;</text><var>*</var><text>&#160;</text><var>20</var><text>&#160;</text><var>)</var></line>
<line indent=""><var>$cost&#160;=&#160;</var><text>get&#160;influence&#160;bonus&#160;decrease:&#160;race=</text><var>$race</var><text>&#160;amount=</text><var>$amount</var></line>
<line indent=""><var>do&#160;if&#160;</var><var>$cost</var><text>&#160;</text><var>&gt;</var><text>&#160;</text><var>$amount</var></line>
<line indent="&#160;"><var>$cost&#160;=&#160;</var><var>$amount</var></line>
<line indent=""><var>$enough.noto&#160;=&#160;</var><var>[TRUE]</var></line>
<line indent=""><var>skip&#160;if&#160;</var><var>$influence</var><text>&#160;</text><var>&gt;=</var><text>&#160;</text><var>$cost</var></line>
<line indent="&#160;"><var>$enough.noto&#160;=&#160;</var><var>[FALSE]</var></line>
<line indent=""><text>endsub</text></line>
<line indent=""><text>return&#160;</text><var>null</var></line>
</sourcetext>
<codearray>

<sval type="array" size="10">
  <sval type="string" val="!agent.cmd.stealstation.menu"/>
  <sval type="int" val="72"/>
  <sval type="string" val="Agent Command: (MENU) steal station blueprints"/>
  <sval type="int" val="4"/>
  <sval type="int" val="0"/>
  <sval type="array" size="34">
    <sval type="string" val="a.diplomat"/>
    <sval type="string" val="a.state"/>
    <sval type="string" val="a.value"/>
    <sval type="string" val="INFLUENCE.AMOUNT"/>
    <sval type="string" val="STATE.BLUEPRINIT"/>
    <sval type="string" val="STATE.STATION"/>
    <sval type="string" val="ret"/>
    <sval type="string" val="classes"/>
    <sval type="string" val="text"/>
    <sval type="string" val="aRaces"/>
    <sval type="string" val="input"/>
    <sval type="string" val="race"/>
    <sval type="string" val="influence"/>
    <sval type="string" val="cost"/>
    <sval type="string" val="speak"/>
    <sval type="string" val="products"/>
    <sval type="string" val="selected"/>
    <sval type="string" val="menu"/>
    <sval type="string" val="title"/>
    <sval type="string" val="station"/>
    <sval type="string" val="station.ware"/>
    <sval type="string" val="hq"/>
    <sval type="string" val="i"/>
    <sval type="string" val="p"/>
    <sval type="string" val="maintype"/>
    <sval type="string" val="name"/>
    <sval type="string" val="col.width"/>
    <sval type="string" val="text2"/>
    <sval type="string" val="enough.noto"/>
    <sval type="string" val="icon.text"/>
    <sval type="string" val="noto"/>
    <sval type="string" val="race.noto"/>
    <sval type="string" val="noto.title"/>
    <sval type="string" val="amount"/>
  </sval>
  <sval type="array" size="157">
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="3"/>
      <sval type="int" val="1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="600"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="blueprint"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="5"/>
      <sval type="int" val="1"/>
      <sval type="int" val="5"/>
      <sval type="string" val="station"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610610685"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="603"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.agent.hasinfluence"/>
      <sval type="int" val="-1610611192"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610609915"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="426"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610608891"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="428"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2457"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610607099"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="430"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1415"/>
      <sval type="int" val="7"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2037"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="35"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1104259"/>
    </sval>
    <sval type="array" size="8">
      <sval type="int" val="102"/>
      <sval type="string" val="!lib.agent.races"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="20">
      <sval type="int" val="1647"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="24"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="9"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610601723"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="5"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="701"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1636"/>
      <sval type="int" val="12"/>
      <sval type="int" val="10"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1634"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610605560"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="15"/>
      <sval type="int" val="2"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="13"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610604029"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="15"/>
      <sval type="int" val="3"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1415"/>
      <sval type="int" val="14"/>
      <sval type="int" val="4"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="135"/>
      <sval type="int" val="4"/>
      <sval type="int" val="13"/>
      <sval type="int" val="4"/>
      <sval type="int" val="57"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1510"/>
      <sval type="int" val="-2147483646"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="14"/>
      <sval type="int" val="4"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="35"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1104236"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1652"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1164"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.selected"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.station"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="73"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="35"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1104270"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1649"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="581"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610600699"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.blueprint"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610598139"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="429"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.station"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.blueprint"/>
      <sval type="int" val="20"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="142"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.station"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.blueprint"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.selected"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1415"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="20"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610596603"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="498"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.selected"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="73"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610595323"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="434"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610595581"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="2"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="4"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="102"/>
      <sval type="string" val="!agent.cmd.stealstation.menu"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="1"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="start"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="72"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610594299"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="431"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.station"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.blueprint"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="155"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.selected"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.CrateMenu"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.station"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="menu.selected"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="701"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="704"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="705"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="-536850425"/>
      <sval type="int" val="12"/>
      <sval type="int" val="2046"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1654"/>
      <sval type="int" val="21"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1164"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="22"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610588151"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="23"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="655"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610589693"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="216"/>
      <sval type="int" val="15"/>
      <sval type="int" val="0"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="0"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="2647"/>
      <sval type="int" val="-1610589693"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1788"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="-536847865"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="82"/>
    </sval>
    <sval type="array" size="25">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610588925"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="206"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="24"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="205"/>
      <sval type="int" val="15"/>
      <sval type="int" val="1"/>
      <sval type="int" val="15"/>
      <sval type="int" val="9"/>
      <sval type="int" val="7"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="9"/>
      <sval type="int" val="-4"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-5"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="136"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="95"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1788"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="21"/>
      <sval type="int" val="-1610588411"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="136"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="82"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1375"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1443"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="18"/>
      <sval type="int" val="4"/>
      <sval type="int" val="35"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1102457"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1445"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1448"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="18"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1776"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="4"/>
      <sval type="int" val="135"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="126"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="35"/>
      <sval type="int" val="4"/>
      <sval type="int" val="812"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1546"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1037"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="3"/>
      <sval type="int" val="25"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1523"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="25"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1446"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536843001"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="16"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1934"/>
      <sval type="int" val="26"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="600"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="26"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
      <sval type="int" val="4"/>
      <sval type="int" val="2"/>
      <sval type="int" val="15"/>
      <sval type="int" val="14"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="14"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="20"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="142"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="35"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1104273"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1781"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="16">
      <sval type="int" val="150"/>
      <sval type="int" val="27"/>
      <sval type="int" val="4"/>
      <sval type="int" val="35"/>
      <sval type="int" val="4"/>
      <sval type="int" val="1104273"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610582269"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1781"/>
      <sval type="int" val="27"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="670"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="120"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1781"/>
      <sval type="int" val="27"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="26"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="680"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1415"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1446"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="131"/>
      <sval type="int" val="22"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610576631"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="143"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="129"/>
      <sval type="int" val="23"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="15"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="22"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1671"/>
      <sval type="int" val="29"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1456"/>
      <sval type="int" val="30"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="726"/>
      <sval type="int" val="31"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="10"/>
      <sval type="int" val="10"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="20"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="1167"/>
      <sval type="int" val="142"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="-536836348"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="28"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="5">
      <sval type="int" val="1777"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="680"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1786"/>
      <sval type="int" val="6"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="136"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="6"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1781"/>
      <sval type="int" val="8"/>
      <sval type="int" val="4"/>
      <sval type="int" val="0"/>
      <sval type="int" val="4"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="29"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1781"/>
      <sval type="int" val="27"/>
      <sval type="int" val="4"/>
      <sval type="int" val="12"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="23"/>
    </sval>
    <sval type="array" size="12">
      <sval type="int" val="1415"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="27"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="1447"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="17"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="8"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="112"/>
      <sval type="int" val="123"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="101"/>
      <sval type="string" val="sub.CheckInfluence"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="156"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="0"/>
      <sval type="int" val="5"/>
      <sval type="string" val="target.station"/>
      <sval type="int" val="19"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="701"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="19"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1636"/>
      <sval type="int" val="12"/>
      <sval type="int" val="10"/>
      <sval type="int" val="10"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1456"/>
      <sval type="int" val="30"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="20"/>
    </sval>
    <sval type="array" size="4">
      <sval type="int" val="1651"/>
      <sval type="int" val="32"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="30"/>
    </sval>
    <sval type="array" size="29">
      <sval type="int" val="104"/>
      <sval type="int" val="33"/>
      <sval type="int" val="7"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="32"/>
      <sval type="int" val="4"/>
      <sval type="int" val="5"/>
      <sval type="int" val="15"/>
      <sval type="int" val="11"/>
      <sval type="int" val="4"/>
      <sval type="int" val="20"/>
      <sval type="int" val="15"/>
      <sval type="int" val="13"/>
      <sval type="int" val="15"/>
      <sval type="int" val="11"/>
      <sval type="int" val="11"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="11"/>
      <sval type="int" val="16"/>
      <sval type="int" val="16"/>
      <sval type="int" val="-2"/>
      <sval type="int" val="11"/>
      <sval type="int" val="-3"/>
      <sval type="int" val="17"/>
      <sval type="int" val="13"/>
      <sval type="int" val="-5"/>
      <sval type="int" val="17"/>
    </sval>
    <sval type="array" size="6">
      <sval type="int" val="1634"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="11"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-1610573816"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
      <sval type="int" val="15"/>
      <sval type="int" val="2"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="2"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="13"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="33"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="28"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="10"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="13">
      <sval type="int" val="104"/>
      <sval type="int" val="-536831225"/>
      <sval type="int" val="3"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="12"/>
      <sval type="int" val="131074"/>
      <sval type="int" val="13"/>
      <sval type="int" val="15"/>
      <sval type="int" val="4"/>
      <sval type="int" val="3"/>
      <sval type="int" val="-1"/>
      <sval type="int" val="4"/>
      <sval type="int" val="-2"/>
    </sval>
    <sval type="array" size="7">
      <sval type="int" val="104"/>
      <sval type="int" val="28"/>
      <sval type="int" val="1"/>
      <sval type="int" val="131075"/>
      <sval type="int" val="9"/>
      <sval type="int" val="1"/>
      <sval type="int" val="-1"/>
    </sval>
    <sval type="array" size="1">
      <sval type="int" val="1168"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="103"/>
      <sval type="int" val="0"/>
      <sval type="int" val="0"/>
    </sval>
  </sval>
  <sval type="array" size="3">
    <sval type="array" size="2">
      <sval type="int" val="73"/>
      <sval type="string" val="Diplomat"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="11"/>
      <sval type="string" val="State"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="9"/>
      <sval type="string" val="Last Value"/>
    </sval>
  </sval>
  <sval type="array" size="45">
    <sval type="array" size="2">
      <sval type="int" val="3"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="7"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="10"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="14"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="14"/>
      <sval type="int" val="1"/>
      <sval type="string" val="State: 'start' will be received when the menu is first opened"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="16"/>
      <sval type="int" val="1"/>
      <sval type="string" val="return a station user input"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="21"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="33"/>
      <sval type="int" val="1"/>
      <sval type="string" val="return [FALSE]/null to cancel command"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="34"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="34"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="39"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="42"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="46"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="46"/>
      <sval type="int" val="1"/>
      <sval type="string" val="Once all inputs have finished, receive the 'arguments' state"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="54"/>
      <sval type="int" val="1"/>
      <sval type="string" val="return the arguments that will be passed to the command script"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="54"/>
      <sval type="int" val="1"/>
      <sval type="string" val="can either be a single argument, or an array of multiple arguments"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="56"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="62"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="3">
      <sval type="int" val="62"/>
      <sval type="int" val="1"/>
      <sval type="string" val="receive cancelled state if any input was cancelled"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="67"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="72"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="72"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="73"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="77"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="80"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="90"/>
      <sval type="int" val="6"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="90"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="90"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="90"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="95"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="96"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="96"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="98"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="102"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="107"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="109"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="111"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="119"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="120"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="122"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="131"/>
      <sval type="int" val="2"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="135"/>
      <sval type="int" val="5"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="136"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="141"/>
      <sval type="int" val="4"/>
    </sval>
    <sval type="array" size="2">
      <sval type="int" val="142"/>
      <sval type="int" val="2"/>
    </sval>
  </sval>
  <sval type="int" val="0"/>
</sval>

</codearray>
<nosignature>1922</nosignature>
</script>
