<?xml version="1.0" encoding="ISO-8859-1" ?>
<?xml-stylesheet href="director.xsl" type="text/xsl" ?>
<director name="test" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="director.xsd">
  <documentation>
    <author name="Owen Lake" alias="Xenon_Slayer" contact="E-Mail: Owen@egosoft.com Skype: Owen Lake" />
    <content reference="SRST" name="Select Random Ship Type" description="Library to select random shiptypes from the maker race and ship class" />
    <version number="0.5" date="23/05/2008" status="testing"/>
  </documentation>
  <cues>
    <cue name="SRST" library="1">
      <documentation>
        <content name="Select Random Ship Type" reference="SRST" type="utility"/>
        <version number="0.5" date="23/05/2008" status="testing"/>
        <params>
          <param name="Race ID" type="number" compulsory="1" description="The maker race ID or the strings 'default' or 'pirategroup'"/>
          <param name="Subrace ID" type="number" compulsory="0" description="The Subrace ID if the Race ID is 'pirate', one of main 5 races!"/>
          <param name="Class ID" type="number" compulsory="1" description="The shipclass ID or the class IDs for bigship, fighter or freighter"/>
          <param name="Cue" type="cuename" compulsory="1" description="The Cue that the shiptype list is saved too"/>
          <param name="CancelCue" type="cuename" description="The cue which is cancelled at the end"/>
          <param name="Result" type="valuename" description="Will contain 1 when Finished!"/>
          <param name="Shiptype Address" type="valuename" compulsory="1" description="The address that the shiptype will be saved to NOT LOCALISED to Cue Param!!!"/>
			<param name="Include M1P" compulsory="0" type="boolean" description="Include the M1Plus ships in the M1 search"/>
			<param name="Include M2P" compulsory="0" type="boolean" description="Include the M2Plus ships in the M2 search"/>
			<param name="Include M3P" compulsory="0" type="boolean" description="Include the M3Plus ships in the M3 search"/>
			<param name="Include M4P" compulsory="0" type="boolean" description="Include the M4Plus ships in the M4 search"/>
          <param name="Include M5P" compulsory="0" type="boolean" description="Include the M5Plus ships in the M5 search"/>
          <param name="Include M6M" compulsory="0" type="boolean" description="Include the M6M ships in the M6 search"/>
			<param name="Include M7M" compulsory="0" type="boolean" description="Include the M7M ships in the M7 search"/>
			<param name="Include M7P" compulsory="0" type="boolean" description="Include the M7P ships in the M7 search"/>
			<param name="Include M7D" compulsory="0" type="boolean" description="Include the M7D ships in the M7 search"/>
			<param name="Include TPP" compulsory="0" type="boolean" description="Include the TP+ ships in the TP search"/>
			<param name="Include TPS" compulsory="0" type="boolean" description="Include the TS+ ships in the TS search"/>
			<param name="Include Race" compulsory="0" type="boolean" description="Include the M5 Race ships in the M5 search"/>
			<param name="Include Clusters" compulsory="0" type="boolean" description="Include the khaak clusters"/>
			<param name="Only List" compulsory="0" type="boolean" description="Only pick a ship from the list, dont use the random subtype generator"/>
		</params>
        <history>
          <change date="09/04/2010" author="enenra" description="The Boron Marlin was still used in a rare case. Also, USC TS and TP were not included (fix by Jens)."/>
          <change date="04/02/2008" author="Owen Lake" description="Removed Pirate TS"/>
          <change date="21/08/2008" author="al_main"   description="Added missing goners, removed some of slowest ships with duplicate names"/>
          <change date="14/08/2008" author="al_main"   description="Added Khaak corvette"/>
          <change date="06/08/2008" author="Owen Lake" description="Removed SS_SH_B_M8 and SS_SH_Y_M6M."/>
          <change date="05/07/2008" author="al_main"   description="Added khaak clusters, added param.exists checks for 'Include' params"/>
          <change date="06/06/2008" author="al_main"   description="Added support for pirate and USC m8's"/>
          <change date="23/05/2008" author="al_main"   description="Added pirate Subrace handling code, add tp return type for pirates"/>
          <change date="23/05/2008" author="XGamer"    description="Added Feedback Value, Made Documentation more clear"/>
          <change date="12/03/2008" author="al_main"   description="structure simplified"/>
          <change date="11/02/2008" author="Owen Lake" description="Added the Shiptype Address parameter"/>
          <change date="08/02/2008" author="Owen Lake" description="Updated shiptype names. Added more classes and the new ships."/>
          <change date="03/03/2008" author="Owen Lake" description="Added the cancel cue and shiptype address"/>
        </history>
        <todo>
          <item date="08/02/2008" author="Owen Lake" description="Lost Colony Terraformers"/>
          <item date="08/02/2008" author="Owen Lake" description="USC Ships"/>
          <item date="08/02/2008" author="Owen Lake" description="Terran Ships"/>
        </todo>
      </documentation>
      <action>
        <do_all>
			<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Saved" exact="0"/>
			<set_value name="SRST.Subrace" exact="0"/>
          <do_if value="{param@Race ID}" list="{lookup.race@pirate}">
            <do_if value="{param.exists@Subrace ID}" exact="1">
              <set_value name="SRST.Subrace" exact="{param@Subrace ID}"/>
            </do_if>
          </do_if>
        </do_all>
      </action>
      <cues>
        <cue name="SRST Use List" check="cancel">
          <condition>
                <check_value value="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Saved}" exact="1"/>
          </condition>
          <action>
            <do_all>
              <set_value name="{param@Shiptype Address}" exact="0"/>
              <do_if value="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Count}" min="1">
                <set_value name="SRST.ShipType Number" min="1" max="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Count}"/>
                <set_value name="{param@Shiptype Address}" exact="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.ShipType Number}}"/>
              </do_if>
				<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Saved" exact="0"/>
				<set_value name="{param@Result}" exact="1"/>
              <cancel_cue cue="{param@CancelCue}"/>
				<cancel_cue cue="SRST"/>
			</do_all>
          </action>
        </cue>
        <cue name="SRST Create New List" check="cancel" version="2">
          <condition>
			  <check_value value="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Saved}" exact="0"/>
		  </condition>
          <action>
            <do_all>
				<set_value name="SRST.Typename Count" exact="0"/>
				<do_if value="{param.exists@Only List}*{param@Only List}" max="0">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="this.ShipType" exact="{lookup.race.shiptype.tl@{lookup.race@{param@Race ID}}}"/>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="this.ShipType" exact="{lookup.race.shiptype.tp@{lookup.race@{param@Race ID}}}"/>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="this.ShipType" exact="{lookup.race.shiptype.tm@{lookup.race@{param@Race ID}}}"/>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="this.ShipType" exact="{lookup.race.shiptype.tp@{lookup.race@{param@Race ID}}}"/>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<do_choose>
							<do_when value="{param.exists@Include M1P}*{param@Include M1P}" min="1">
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m1@{lookup.race@{param@Race ID}}}"/>
							</do_when>
							<do_otherwise>
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m1.noplustype@{lookup.race@{param@Race ID}}}"/>
							</do_otherwise>
						</do_choose>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<do_choose>
							<do_when value="{param.exists@Include M2P}*{param@Include M2P}" min="1">
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m2@{lookup.race@{param@Race ID}}}"/>
							</do_when>
							<do_otherwise>
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m2.noplustype@{lookup.race@{param@Race ID}}}"/>
							</do_otherwise>
						</do_choose>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="this.ShipType" exact="{lookup.race.shiptype.m7@{lookup.race@{param@Race ID}}}"/>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="this.ShipType" exact="{lookup.race.shiptype.m8@{lookup.race@{param@Race ID}}}"/>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<do_choose>
							<do_when value="{param.exists@Include M6M}*{param@Include M6M}" min="1">
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m6@{lookup.race@{param@Race ID}}}"/>
							</do_when>
							<do_otherwise>
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m6.noplustype@{lookup.race@{param@Race ID}}}"/>
							</do_otherwise>
						</do_choose>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<do_choose>
							<do_when value="{param.exists@Include M3P}*{param@Include M3P}" min="1">
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m3@{lookup.race@{param@Race ID}}}"/>
							</do_when>
							<do_otherwise>
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m3.noplustype@{lookup.race@{param@Race ID}}}"/>
							</do_otherwise>
						</do_choose>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<do_choose>
							<do_when value="{param.exists@Include M4P}*{param@Include M4P}" min="1">
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m4@{lookup.race@{param@Race ID}}}"/>
							</do_when>
							<do_otherwise>
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m4.noplustype@{lookup.race@{param@Race ID}}}"/>
							</do_otherwise>
						</do_choose>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<do_choose>
							<do_when value="{param.exists@Include M5P}*{param@Include M5P}" min="1">
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m5@{lookup.race@{param@Race ID}}}"/>
							</do_when>
							<do_otherwise>
								<set_value name="this.ShipType" exact="{lookup.race.shiptype.m5.noplustype@{lookup.race@{param@Race ID}}}"/>
							</do_otherwise>
						</do_choose>
						<do_if value="{value@this.ShipType}" min="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{value@this.ShipType}"/>
						</do_if>
					</do_if>
				</do_if>
				
				<do_if value="{value@SRST.Typename Count}" max="0">
				<do_if value="{lookup.race.mask.{param@Race ID}@argon}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M1P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M2P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6}"/>
						<do_if value="{param.exists@Include M6M}" exact="1">
							<do_if value="{param@Include M6M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6M}"/>
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6M_PROTO}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7P}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7_SPECIAL}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7M}"/>
							</do_if>
						</do_if>
						<do_if value="{param.exists@Include M7D}" exact="1">
							<do_if value="{param@Include M7D}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_DC}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_PROTO}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_3}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3P}"/>
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_HYBRID}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_3}"/>
						<do_if value="{param.exists@Include M4P}" exact="1">
							<do_if value="{param@Include M4P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4P}"/>
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4P_ENH}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_ADV}"/>
						<do_if value="{param.exists@Include M5P}" exact="1">
							<do_if value="{param@Include M5P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TM}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TSP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_HT}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_PROTO}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_ENH}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP_ADV}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TPP}"/>
					</do_if>
				</do_if>

				<do_if value="{lookup.race.mask.{param@Race ID}@terracorp}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M1}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M2}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6}"/>
						<do_if value="{param.exists@Include M6M}" exact="1">
							<do_if value="{param@Include M6M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6M}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<do_any>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7M}" chance="10"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_DC}" chance="1"/>
								</do_any>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_3}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_3}"/>
						<do_if value="{param.exists@Include M4P}" exact="1">
							<do_if value="{param@Include M4P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_3}"/>
						<do_if value="{param.exists@Include Race}" exact="1">
							<do_if value="{param@Include Race}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_R1}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TM}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TSP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_HT}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP_1}"/>
					</do_if>
				</do_if>


				<do_if value="{lookup.race.mask.{param@Race ID}@other1}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M1}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M2P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M6}"/>
						<do_if value="{param.exists@Include M6M}" exact="1">
							<do_if value="{param@Include M6M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6M}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M7}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7M}"/>
							</do_if>
						</do_if>
						<do_if value="{param.exists@Include M7D}" exact="1">
							<do_if value="{param@Include M7D}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_DC}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M3_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M3_2}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M3P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M4}"/>
						<do_if value="{param.exists@Include M4P}" exact="1">
							<do_if value="{param@Include M4P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M4P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_3}"/>
						<do_if value="{param.exists@Include M5P}" exact="1">
							<do_if value="{param@Include M5P}" exact="1">
		        				<set_value name="SRST.Typename Count" operation="add"/>
        						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PR_M5P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TM}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_5}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP_1}"/>
					</do_if>
				</do_if>

				<do_if value="{lookup.race.mask.{param@Race ID}@terracorp}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M1}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M2}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6}"/>
						<do_if value="{param.exists@Include M6M}" exact="1">
							<do_if value="{param@Include M6M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6M}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<do_any>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7M}" chance="10"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_DC}" chance="1"/>
								</do_any>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_3}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_3}"/>
						<do_if value="{param.exists@Include M4P}" exact="1">
							<do_if value="{param@Include M4P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_3}"/>
						<do_if value="{param.exists@Include Race}" exact="1">
							<do_if value="{param@Include Race}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_R1}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TM}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TSP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_HT}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP_1}"/>
					</do_if>
				</do_if>


				<do_if value="{lookup.race.mask.{param@Race ID}@otas}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M1}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M2P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M6M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M7}"/>
                  <do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M7M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M3P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M4}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_3}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_TS}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_OTAS_TS_1}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP_1}"/>
                </do_if>
              </do_if>


              <do_if value="{lookup.race.mask.{param@Race ID}@atreus}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M1}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_AT_M1P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M2}"/>
					<do_if value="{param.exists@Include M2M}" exact="1">
						<do_if value="{param@Include M2M}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_AT_M2P}"/>
						</do_if>
					</do_if>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M6}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M6M}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M6M_PROTO}"/>
					</do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_AT_M7}"/>
					<do_if value="{param@Include M7M}" exact="1">
						<do_if value="{param.exists@Include M7M}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M7M}"/>
						</do_if>
					</do_if>
					<do_if value="{param@Include M7D}" exact="1">
						<do_if value="{param.exists@Include M7D}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_DC}"/>
						</do_if>
					</do_if>
				</do_if>
                <!--<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M8}"/>
                </do_if>-->
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3_2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3_3}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3_ADV}"/>
					<do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_3}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_PROTO}"/>
					<do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_3}"/>
					<do_if value="{param.exists@Include Race}" exact="1">
						<do_if value="{param@Include Race}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_R2}"/>
						</do_if>
					</do_if>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TSP}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TP_1}"/>
                </do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@boron}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M1}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M2P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M6_PROTO}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M6M_PROTO}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M7}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M7P}"/>
					<do_if value="{param@Include M7M}" exact="1">
						<do_if value="{param.exists@Include M7M}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M7M}"/>
						</do_if>
					</do_if>
					<do_if value="{param@Include M7D}" exact="1">
						<do_if value="{param.exists@Include M7D}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_DC}"/>
						</do_if>
					</do_if>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_PROTO}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_AT_M3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3P_PROTO}"/>
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3P_PROTO}"/>
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3P_PROTO}"/>
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3P_PROTO}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_3}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_3}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5P}"/>
					<do_if value="{param.exists@Include Race}" exact="1">
						<do_if value="{param@Include Race}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_R2}"/>
						</do_if>
					</do_if>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_HT}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TS_ENH}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_MORAY_TP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_TP_SPECIAL}"/>
                </do_if>
              </do_if>

				<do_if value="{lookup.race.mask.{param@Race ID}@paranid}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M1P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M2P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M6}"/>
						<do_if value="{param.exists@Include M6M}" exact="1">
							<do_if value="{param@Include M6M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M6M}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M7}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<do_any>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M7M}" chance="10"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_DC}" chance="1"/>
								</do_any>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_3}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_3}"/>
						<do_if value="{param.exists@Include M4P}" exact="1">
							<do_if value="{param@Include M4P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TM}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TSP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_HT}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TP}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TP_1}"/>
					</do_if>
				</do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@industritech}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M1}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M2P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M6}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M6M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M7}"/>
                  <do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <do_any>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M7M}" chance="10"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_DC}" chance="1"/>
                      </do_any>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M4}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_3}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_TS}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_TS}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TSP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_HT}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ID_TP}"/>
                </do_if>
              </do_if>

				
				<do_if value="{lookup.race.mask.{param@Race ID}@split}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M1}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M2P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M6}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M6M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M7}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M7P}"/>
					<do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <do_any>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M7M}" chance="10"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_DC}" chance="1"/>
                      </do_any>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3_3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M4_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M4_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M4_3}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5_3}"/>
					<do_if value="{param.exists@Include M5P}" exact="1">
						<do_if value="{param@Include M5P}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5P}"/>
						</do_if>
					</do_if>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_6}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TSP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_HT}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TP_1}"/>
                </do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@strongarms}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M1}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M2P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M6}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M6M_ENH}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M7_1}"/>
                  <do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M7M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3P_ENH}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M3P}"/>
					</do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M4}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_SA_M5}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TS_3}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_TP}"/>
                </do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@teladi}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M1}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M1P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M2P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M6}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M6M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M7}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M7_TALON}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M7_TERN}"/>
					<do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <do_any>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M7M}" chance="10"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_DC}" chance="1"/>
                      </do_any>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3_3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4_3}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_3}"/>
                  <do_if value="{param.exists@Include M5P}" exact="1">
                    <do_if value="{param@Include M5P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TSP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_HT}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TP_1}"/>
                </do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@nmmc}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M1}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M2}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M6}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M6M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M7}"/>
                  <do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M7M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_N_M3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4_1}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_1}"/>
                  <do_if value="{param.exists@Include M5P}" exact="1">
                    <do_if value="{param@Include M5P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_N_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TSP_MINER}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TS_HT}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_TPP_MINER}"/>
                </do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@xenon}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M1}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M2_IX}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M2P}"/>
				</do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M6}"/>
					  <do_if value="{param.exists@Include M6M}" exact="1">
						  <do_if value="{param@Include M6M}" exact="1">
							  <set_value name="SRST.Typename Count" operation="add"/>
							  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M6M}"/>
						  </do_if>
					  </do_if>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M8}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M7}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M7P}"/>
					<do_if value="{param.exists@Include M7M}" exact="1">
						<do_if value="{param@Include M7M}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M7M}"/>
						</do_if>
					</do_if>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M3P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M4}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M5}"/>
					<do_if value="{param.exists@Include M5P}" exact="1">
						<do_if value="{param@Include M5P}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_X_M5P}"/>
						</do_if>
					</do_if>
				</do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@khaak}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M1}"/>
                </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M2}"/>
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M2P}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M7}"/>
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M7P}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1" comment="Kha'ak dont have M8 class. This is to fix some naff code elsewhere">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M6}"/>
                </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M6}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M8}"/>
				  </do_if>
				  <do_if value="{param.exists@Include Clusters}" exact="1">
                  <do_if value="{param@Include Clusters}" exact="1">
                    <do_if value="{param.exists@Include M3P}" exact="1">
                      <do_if value="{param@Include M3P}" exact="1">
                        <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                          <set_value name="SRST.Typename Count" operation="add"/>
                          <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_THINKER6}"/>
                        </do_if>
                      </do_if>
                    </do_if>
					  <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						  <set_value name="SRST.Typename Count" operation="add"/>
						  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_THINKER}"/>
						  <set_value name="SRST.Typename Count" operation="add"/>
						  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_THINKER14}"/>
						  <set_value name="SRST.Typename Count" operation="add"/>
						  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_THINKER27}"/>
						  <set_value name="SRST.Typename Count" operation="add"/>
						  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M6}"/>
					  </do_if>
				  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M3}"/>
					<do_if value="{param.exists@Include M3P}" exact="1">
						<do_if value="{param@Include M3P}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M3P}"/>
						</do_if>
					</do_if>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M4}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M5}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M5}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_K_M5_1}"/>
				</do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@pirate}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TL_P}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M1_P}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M2_P}"/>
                </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M8}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M6_P}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M6P}"/>
					<do_if value="{value@SRST.Subrace}" list="{lookup.race@argon}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6_P}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@teladi}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M6_P}"/>
                  </do_if>
                  <!--added to ensure that pirate + M6 + Subrace returns value-->
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@boron}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M6}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@split}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M6}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@paranid}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M6}"/>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M7_P}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@argon}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M8}"/>
                  </do_if>
                  <!--<do_if value="{value@SRST.Subrace}" list="{lookup.race@boron}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M8}"/>
                  </do_if>-->
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@split}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M8}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@paranid}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M8}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@teladi}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M8}"/>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M3}"/>
					<do_if value="{value@SRST.Subrace}" list="{lookup.race@argon}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_P_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3_P_2}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@teladi}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3_P}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3_P_3}"/>
                  </do_if>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <do_if value="{value@SRST.Subrace}" list="{lookup.race@argon}|0">
                        <set_value name="SRST.Typename Count" operation="add"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M3P_P}"/>
                      </do_if>
                      <do_if value="{value@SRST.Subrace}" list="{lookup.race@teladi}|0">
                        <set_value name="SRST.Typename Count" operation="add"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M3P_P}"/>
                      </do_if>
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M3P_P}"/>
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M3P_PROTO_P}"/>
                    </do_if>
                  </do_if>
                  <!--added to ensure that pirate + M3 + Subrace returns value-->
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@boron}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M3_2}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@split}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M3_2}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@paranid}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_3}"/>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_MANDALAY}"/>
					<do_if value="{value@SRST.Subrace}" list="{lookup.race@argon}|0">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_P}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4_P_2}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@split}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M4_P}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@teladi}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4_P_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M4_P_3}"/>
                  </do_if>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <do_if value="{value@SRST.Subrace}" list="{lookup.race@argon}|0">
                        <set_value name="SRST.Typename Count" operation="add"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M4P_P}"/>
                      </do_if>
                    </do_if>
                  </do_if>
                  <!--needed to ensure that pirate + M4 + Subrace returns a value-->
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@boron}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4_3}"/>
                    <do_if value="{param.exists@Include M4P}" exact="1">
                      <do_if value="{param@Include M4P}" exact="1">
                        <set_value name="SRST.Typename Count" operation="add"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M4P}"/>
                      </do_if>
                    </do_if>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@paranid}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_3}"/>
                    <do_if value="{param.exists@Include M4P}" exact="1">
                      <do_if value="{param@Include M4P}" exact="1">
                        <set_value name="SRST.Typename Count" operation="add"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4P}"/>
                      </do_if>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@teladi}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_P}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_P_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_P_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5_P_3}"/>
                    <do_if value="{param.exists@Include M5P}" exact="1">
                      <do_if value="{param@Include M5P}" exact="1">
                        <set_value name="SRST.Typename Count" operation="add"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_T_M5P_P}"/>
                      </do_if>
                    </do_if>
                  </do_if>
                  <!--needed to ensure that pirate + M5 + Subrace returns a value-->
                  <do_if value="{value@SRST.Subrace}" list="{lookup.race@argon}|0">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M5_3}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@boron}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_B_M5_3}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@split}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_S_M5_3}"/>
                  </do_if>
                  <do_if value="{value@SRST.Subrace}" exact="{lookup.race@paranid}">
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_1}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_2}"/>
                    <set_value name="SRST.Typename Count" operation="add"/>
                    <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_3}"/>
                  </do_if>
                </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_TP}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_TM_P}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_TS_P}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_TS_AT}"/>
				</do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@dukes}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TL}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TL_P}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M1_P}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M1}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M2_P}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M2}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M6}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M6_P}"/>
                  <do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M6M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M7}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M7_P}"/>
                  <do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <do_any>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M7M}" chance="10"/>
                        <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_DC}" chance="1"/>
                      </do_any>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3_3}"/>
                  <do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M3P}"/>
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M3P_P}"/>
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_M3P_PROTO_P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4_3}"/>
                  <do_if value="{param.exists@Include M4P}" exact="1">
                    <do_if value="{param@Include M4P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M4P}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_M5_3}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TM}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_PI_TM_P}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_2}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_3}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_4}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_5}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TSP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TS_HT}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_P_TP_1}"/>
                </do_if>
              </do_if>

              <do_if value="{lookup.race.mask.{param@Race ID}@goner}" exact="1">
                <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TL}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M1}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M2}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M7}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M8}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_GONER}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_GONER}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_GONER}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TM}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_GONER}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_1}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TS_2}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_GONER}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TP_1}"/>
                </do_if>
              </do_if>

				<do_if value="{lookup.race.mask.{param@Race ID}@yaki}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M1}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M2}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M7_1}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<do_any>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M7M}" chance="10"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M7_2}" chance="1"/>
								</do_any>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_M6_P}" comment="No Yaki M6"/>
						<!--<do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M6M}"/>
                    </do_if>
                  </do_if>-->
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M3}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M3_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M3_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M3_PROTO}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M3P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M4}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M4_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M4_2}"/>
						<do_if value="{param.exists@Include M4P}" exact="1">
							<do_if value="{param@Include M4P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M4P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5_ADV}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_TM}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_TM_1}"/>
					</do_if>
				</do_if>

				<do_if value="{lookup.race.mask.{param@Race ID}@beryll}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_M1}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_M2}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M7_1}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<do_any>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M7M}" chance="10"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M7_2}" chance="1"/>
								</do_any>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_M6}"/>
						<!--<do_if value="{param.exists@Include M6M}" exact="1">
                    <do_if value="{param@Include M6M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M6M}"/>
                    </do_if>
                  </do_if>-->
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_M3}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M3P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_M4}"/>
						<do_if value="{param.exists@Include M4P}" exact="1">
							<do_if value="{param@Include M4P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M4P}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5_1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5_2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5_ADV}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_M5P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_TM}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_Y_TM_1}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_TS}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_BER_TS_H}"/>
					</do_if>
				</do_if>

					<do_if value="{lookup.race.mask.{param@Race ID}@terran}" exact="1">
						<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M1}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M2}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M6}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M7}"/>
							<do_if value="{param.exists@Include M7M}" exact="1">
								<do_if value="{param@Include M7M}" exact="1">
									<set_value name="SRST.Typename Count" operation="add"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M7M}"/>
									<set_value name="SRST.Typename Count" operation="add"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_DC}"/>
								</do_if>
							</do_if>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M8}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M3}"/>
							<do_if value="{param.exists@Include M3P}" exact="1">
								<do_if value="{param@Include M3P}" exact="1">
									<set_value name="SRST.Typename Count" operation="add"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M3P}"/>
								</do_if>
							</do_if>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M4}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M5}"/>
							<do_if value="{param.exists@Include M5P}" exact="1">
								<do_if value="{param@Include M5P}" exact="1">
									<set_value name="SRST.Typename Count" operation="add"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M5P}"/>
								</do_if>
							</do_if>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_TS}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_TS_2}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_TS_1}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TSP}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TS_HT}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_TP}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TM}"/>
						</do_if>
					</do_if>

					<do_if value="{lookup.race.mask.{param@Race ID}@corporation1}" exact="1">
						<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_LOST_TL}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M1}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M2}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M6}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M7}"/>
							<do_if value="{param.exists@Include M7M}" exact="1">
								<do_if value="{param@Include M7M}" exact="1">
									<set_value name="SRST.Typename Count" operation="add"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M7M}"/>
									<set_value name="SRST.Typename Count" operation="add"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M7D}"/>
								</do_if>
							</do_if>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M8}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M3}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_M4}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M5}"/>
							<do_if value="{param.exists@Include M5P}" exact="1">
								<do_if value="{param@Include M5P}" exact="1">
									<set_value name="SRST.Typename Count" operation="add"/>
									<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M5P}"/>
								</do_if>
							</do_if>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_TS}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_TS_2}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_TS_1}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TSP}"/>
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TS_HT}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_TP}"/>
						</do_if>
						<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
							<set_value name="SRST.Typename Count" operation="add"/>
							<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_LOST_TM}"/>
						</do_if>
					</do_if>

					<do_if value="{lookup.race.mask.{param@Race ID}@atf}" exact="1">
				  <do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TL}"/>
				  </do_if>
				  <do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M1}"/>
					  <set_value name="SRST.Typename Count" operation="add"/>
					  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M1_1}"/>
					  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M1H}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M2}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_USC_M2P}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M6}"/>
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M6M}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M7}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M7P}"/>
					<do_if value="{param.exists@Include M7M}" exact="1">
                    <do_if value="{param@Include M7M}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M7M}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M3}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M3_1}"/>
					<do_if value="{param.exists@Include M3P}" exact="1">
                    <do_if value="{param@Include M3P}" exact="1">
                      <set_value name="SRST.Typename Count" operation="add"/>
                      <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M3H}"/>
                    </do_if>
                  </do_if>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M4}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M4_1}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ATF_M5P}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M5}"/>
					<set_value name="SRST.Typename Count" operation="add"/>
					<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M5_1}"/>
				</do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TSP}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TPP}"/>
                </do_if>
                <do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
                  <set_value name="SRST.Typename Count" operation="add"/>
                  <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_ATF_TM}"/>
                </do_if>
              </do_if>

				<do_if value="{lookup.race.mask.{param@Race ID}@darkspace}" exact="1">
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M1}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M1H}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M2}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M2P}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_DS_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_DS_M6}"/>
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M6M}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_DS_M7}"/>
						<do_if value="{param.exists@Include M7M}" exact="1">
							<do_if value="{param@Include M7M}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M7M}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_DS_M3}"/>
						<do_if value="{param.exists@Include M3P}" exact="1">
							<do_if value="{param@Include M3P}" exact="1">
								<set_value name="SRST.Typename Count" operation="add"/>
								<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_M3H}"/>
							</do_if>
						</do_if>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_DS_M4}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_DS_M5}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TSP}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TPP}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_TR_TM}"/>
					</do_if>
				</do_if>
				</do_if>

				<!-- Fail safe incase there are not any picks ships -->
				<do_if value="{value@SRST.Typename Count}" max="0">
					<do_if value="{lookup.class.isclass.{param@Class ID}@m1}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M1}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m2}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M2}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m7}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M7}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m8}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M8}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m6}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M6}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m3}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M3}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m4}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M4}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@m5}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MERC_M5}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tl}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MG_TL}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@ts}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_MG_TS}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tm}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_A_TM}"/>
					</do_if>
					<do_if value="{lookup.class.isclass.{param@Class ID}@tp}" exact="1">
						<set_value name="SRST.Typename Count" operation="add"/>
						<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.Typename Count}" exact="{lookup.type@SS_SH_CN_TP}"/>
					</do_if>
				</do_if>
				
				<set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Count" exact="{value@SRST.Typename Count}"/>
              <set_value name="{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Saved" exact="1"/>
              <set_value name="{param@Shiptype Address}" exact="0"/>
              <do_if value="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Count}" min="1">
                <set_value name="SRST.ShipType Number" min="1" max="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} Count}"/>
                <set_value name="{param@Shiptype Address}" exact="{value@{param@Cue}.SRST {param@Race ID} {value@SRST.Subrace} {param@Class ID} {value@SRST.ShipType Number}}"/>
              </do_if>
              <set_value name="{param@Result}" exact="1"/>
              <cancel_cue cue="{param@CancelCue}"/>
              <cancel_cue cue="SRST"/>
            </do_all>
          </action>
        </cue>
      </cues>
    </cue>
  </cues>
</director>

